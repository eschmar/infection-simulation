<!DOCTYPE html>
<html>
<head>
    <title>Infection Simulation</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-deep_purple.min.css">
    <link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
    <section class="simulation">
        <div class="mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title mdl-card--border">
                Infection Simulation

                <label id="toggle-label" for="toggle" class="mdl-switch mdl-js-switch mdl-js-ripple-effect">
                    <input type="checkbox" id="toggle" class="mdl-switch__input">
                    <span class="mdl-switch__label"> off/on</span>
                </label>
            </div>

            <div class="mdl-card__supporting-text">
                Click on the simulation field.
            </div>

            <div class="mdl-card__media">
                <canvas id="game" width="500" height="500"></canvas>
            </div>

            <!-- <div class="mdl-card__actions mdl-card--border">
                <label for="">Probability of infecting neighbours:</label>
                <input class="mdl-slider mdl-js-slider" type="range" id="s1" min="0" max="100" value="40" step="1">
            </div>

            <div class="mdl-card__actions mdl-card--border">
                <label for="">Probability of dying while infected:</label>
                <input class="mdl-slider mdl-js-slider" type="range" id="s1" min="0" max="100" value="10" step="1">
            </div>

            <div class="mdl-card__actions mdl-card--border">
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="length1">
                    <label class="mdl-textfield__label" for="length1">Minimal sickness length</label>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="length2">
                    <label class="mdl-textfield__label" for="length2">Maximal sickness length</label>
                </div>
            </div> -->

            <div class="mdl-card__actions mdl-card--border">
                <a id="reset" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                    Reset
                </a>
            </div>
        </div>
    </section>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="infection-simulation.js"></script>
    <script>
        // game of life
        var $game = $('#game');

        $game.infectionSimulation({
            onClick: function(game, x, y) {
                game.contaminateCell(x,y);
            }
        });

        var game = $game.data("infectionSimulation");
        // game.toggle();

        $('#toggle').change(function() {
            game.toggle();
        });

        $('#reset').click(function() {
            game.reset();
        });
    </script>
</body>
</html>
